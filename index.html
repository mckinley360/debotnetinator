<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
	<head>
		<title>Link Debotnet-inator</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<link rel="icon" href="/favicon.ico" type="image/x-icon">
		<meta name="description" content="Tools to strip your links of unwanted tracking">
		<script type="text/javascript">
			/*    
			@licstart  The following is the entire license notice for the 
			JavaScript code in this page.

			Copyright (C) 2020 McKinley

			The JavaScript code in this page is free software: you can
			redistribute it and/or modify it under the terms of the GNU
			General Public License (GNU GPL) as published by the Free Software
			Foundation, either version 3 of the License, or (at your option)
			any later version.  The code is distributed WITHOUT ANY WARRANTY;
			without even the implied warranty of MERCHANTABILITY or FITNESS
			FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

			As additional permission under GNU GPL version 3 section 7, you
			may distribute non-source (e.g., minimized or compacted) forms of
			that code without the copy of the GNU GPL normally required by
			section 4, provided you include this license notice and a URL
			through which recipients can access the Corresponding Source.

			@licend  The above is the entire license notice
			for the JavaScript code in this page.
			*/
		</script> 
		<script type="text/javascript">window.onload=function(){document.getElementById("jswarn").remove();if("URLSearchParams"in window){var t=new URLSearchParams(window.location.search);if(t.has("url")){document.getElementById("textbox").value=decodeURIComponent(t.get("url"))}if(t.has("mode")){try{document.getElementById(t.get("mode")).checked=true}catch(e){return}}}};var u={},c={},i={},n={},p={};var o=["share","google","blog","Twitter","facebook"],r=["organic","cpc","email","social","banner","cpa","android_app","ios_app"],a=["events","share","Google"];function htmltojs(){var t={t:false,o:false};var e=document.getElementById("textbox").value;var o=document.getElementsByName("mode");for(var r=0;r<o.length;r++){if(o[r].checked){n=o[r].id;break}}var a=Object.keys(t);for(var r=0;r<a.length;r++){t[a[r]]=document.getElementById(a[r]).checked}process(e,n,t)}function process(t,e,o){try{if(o["t"]){t=decodeURIComponent(t)}switch(e){case"smart":try{c=t.match(/https?:\/\/(?:(?:www\.ebay)|(?:www\.amazon)|(?:youtu)|(?:www\.google))\./)[0]}catch(n){throw"This domain does not have any special optimizations available."}var r=t.slice(c.length).match(/^.+?(?=\/)/)[0];switch(c){case"https://www.ebay.":try{u=t.match(/\d{12}/)[0]}catch(n){throw"Could not find item ID. Is this link for an eBay item?"}output(c+r+"/itm/"+u,o);break;case"https://www.amazon.":try{u=t.match(/\/(?:(?:dp)|(?:product))\/\S{10}/)[0].slice(-10)}catch(n){throw"Could not find item ID. Is this link for an Amazon item?"}output(c+r+"/dp/"+u,o);break;case"https://youtu.":output("https://www.youtube.com/watch?v="+hardTrim(t).slice(-11),o);break;case"https://www.google.":if(t.match(/\/amp\/s\//)){p=t.match(/https:\/\/www\.google\.[\w\.]+\/amp\/s\//)[0];output(deAmp(decodeURIComponent("http://"+t.slice(p.length))),o)}else if(t.match(/\/url/)){output(extract(decodeURIComponent(t)),o)}else{error("Smart Mode supports /amp and /url directories for Google only.")}break}break;case"trim":output(trim(t),o);break;case"hardtrim":output(hardTrim(t),o);break;case"extract":output(extract(t),o);break;case"expand":var a="https://urlex.org/"+t;window.open(a,"_blank").focus();output(a,o);break;case"deamp":output(deAmp(t),o);break;case"uridecodeonly":output(decodeURIComponent(t),o);break;case"base64decode":try{i=atob(t)}catch(n){throw"Could not Base64 decode input."}output(i,o)}}catch(n){error("Error: "+n)}}function extract(t){try{p=t.match(/https?:\/\/.+(?=https?)/)[0]}catch(e){throw"Could not extract link"}return trim(t.slice(p.length))}function trim(t){try{p=t.match(/(&\S+)+$/g).join("")}catch(e){return t}return t.slice(0,t.length-p.length)}function hardTrim(t){try{p=t.match(/\?\S+(&\S+)*$/g).join("")}catch(e){return t}return t.slice(0,t.length-p.length)}function deAmp(t){return t.replace(/\/(platform\/)?amp\/?/,"/")}function output(t,e){if(e["o"]){t=t+"?utm_source="+sample(o)+"&utm_medium="+sample(r)+"&utm_campaign="+sample(a)}document.getElementById("output").value=t}function error(t){document.getElementById("output").value=t}function sample(t){return t[Math.floor(Math.random()*t.length)]}</script>
		<style type="text/css">body{font-family:monospace;max-width:1000px;}</style>
	</head>
	<body>
<pre>
Welcome to McKinley's
 _____  ______ ____   ____ _______ _   _ ______ _______   _____ _   _       _______ ____  _____      _  __________=__
|  __ \|  ____|  _ \ / __ \__   __| \ | |  ____|__   __| |_   _| \ | |   /\|__   __/ __ \|  __ \      \\@([____]_____()
| |  | | |__  | |_) | |  | | | |  |  \| | |__     | | ____ | | |  \| |  /  \  | | | |  | | |__) |    _/\|-[____]
| |  | |  __| |  _ &lt;| |  | | | |  | . ` |  __|    | ||____|| | | . ` | / /\ \ | | | |  | |  _  /    /     /(( )
| |__| | |____| |_) | |__| | | |  | |\  | |____   | |     _| |_| |\  |/ ____ \| | | |__| | | \ \   /____|'----'
|_____/|______|____/ \____/  |_|  |_| \_|______|  |_|    |_____|_| \_/_/    \_\_|  \____/|_|  \_\  \____/

                      === Tools to strip your links of unwanted tracking (<a href="/thepoint.html">What's the point?</a>) ===
</pre>
		<p id="jswarn" style="color:red;">Warning: It seems you have JavaScript turned off, or it is not supported in your browser. This tool will not work without JavaScript enabled, however all JavaScript on this page is free software (GPL) and you can read the full, un-minified script <a href="/debotnet.js">here</a> or <a href="https://github.com/mckinley360/debotnetinator/blob/master/debotnet.js">on the GitHub repository</a>.</p>
		<p>
			<label for="textbox">Input:</label>
			<input type="text" id="textbox" size="100">
			<button type="button" onclick="htmltojs()">Submit</button>
			<br>
			Mode:
			<input type="radio" id="smart" checked="checked" name="mode">
			<label for="smart">Smart</label>
			<input type="radio" id="trim" name="mode">
			<label for="trim">Trim</label>
			<input type="radio" id="hardtrim" name="mode">
			<label for="hardtrim">Hard Trim</label>
			<input type="radio" id="extract" name="mode">
			<label for="extract">Extract</label>
			<input type="radio" id="expand" name="mode">
			<label for="expand">Expand</label>
			<input type="radio" id="deamp" name="mode">
			<label for="deamp">AMP Remover</label>
			<input type="radio" id="uridecodeonly" name="mode">
			<label for="uridecodeonly">URI Decode Only</label>
			<input type="radio" id="base64decode" name="mode">
			<label for="base64decode">Base64 Decode</label>
			<br>
			Options:
			<input type="checkbox" id="uridecode" checked="checked">
			<label for="uridecode">URI Decode (Before mode action)</label>
			<input type="checkbox" id="fakeutm">
			<label for="fakeutm">Append fake UTM parameters</label>
			<br>
			<label for="output">Output:</label>
			<input type="text" id="output" size="100" readonly="readonly">
			<br>
			<button onclick="window.open(document.getElementById('output').value, '_blank').focus();">Test</button>
			<button onclick="document.getElementById('textbox').value = document.getElementById('output').value;">Further Debotnet Link</button>
			<button onclick="document.getElementById('output').select(); document.execCommand('copy');">Copy Link</button>
			<button onclick="document.getElementById('scratchpad').value = document.getElementById('output').value;">Send Output to Scratchpad</button>
			<br>
			<label for="scratchpad">Scratchpad</label>
			<br>
			<textarea cols="100" rows="10" id="scratchpad"></textarea>
			<br>
			<button onclick="document.getElementById('textbox').value = document.getElementById('scratchpad').value.match(/.+/);">Further debotnet top line</button>
			<button onclick="document.getElementById('scratchpad').value = '';">Clear</button>
		</p>
		<h2>Definitions</h2>
		<p>Modes:</p>
		<ul>
			<li>Smart: Compares link against pre-optimized list of common offenders and acts accordingly.</li>
			<li>Trim: Tries to find unnecessary tracking at the end of the link, and removes it.</li>
			<li>Hard Trim: Same as Trim, but removes the first URL argument as well, which is necessary for many webpages to work properly.</li>
			<li>Extract: Tries to find a different link embedded in the submitted text. Good for rooting out redirect traps.</li>
			<li>Expand: Expands shortened URL, sends you to <a href="https://urlex.org/">urlex.org</a>.</li>
			<li>AMP Remover: Removes /platform/amp/ or /amp/ directories from links to websites that use the technology embedded in their systems (usually news sites)</li>
			<li>URI Decode Only: Only URI decodes link, good for manual debotnetting.</li>
			<li>Base64 Decode: Base64 Decodes input, will NOT work unless the entire input is encoded with Base64. Good for manual debotnetting.</li>
		</ul>
		<p>Options:</p>
		<ul>
			<li>URI Decode: Decodes links that include URI encoded characters before the mode action</li>
			<li>Append fake UTM parameters: Adds fake but plausible UTM parameters to the link in an effort to mess with "analytics." Probably does nothing in the long run.</li>
		</ul>
		<h2>Smart Mode Compatible Domains</h2>
		<p>List is in alphabetical order by domain name, excluding "www." if applicable</p>
		<ul>
			<li>www.amazon.com (or any other TLD) [Item links only]</li>
			<li>www.ebay.com (or any other TLD) [Item links only]</li>
			<li>www.google.com (or any other TLD) [/url redirects or /amp tracking only]</li>
			<li>youtu.be</li>
		</ul>
		<p>
			<a href="http://validator.w3.org/"><img src="/valid-html401-blue.png" alt="Valid HTML 4.01 Transitional" height="31" width="88"></a>
			<a href="https://www.gnu.org/software/librejs/"><img src="/librejs.png" alt="LibreJS Compatible" height="31" width="88"></a>
		</p>
		<p>Link Debotnet-inator made by <a href="https://mckinley.cc/">mckinley</a>.</p>
		<p>This page is <a href="https://www.gnu.org/software/librejs/">LibreJS</a> compatible, and all JavaScript on this page is released under the GNU GPL v3 or later.<br><a href="/debotnet.js">Un-minified javascript (source)</a> <a href="https://github.com/mckinley360/debotnetinator">GitHub Repo</a></p>
		<p>If you find a bug, or just want to tell me my JavaScript is bad, I am (regrettably) on Discord at mckinley pound sign 0420.</p>
	</body>
</html>
